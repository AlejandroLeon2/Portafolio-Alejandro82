<form
  id="formulario"
  method="POST"
  class="max-w-md text-white bg-white/5 w-[320px] md:w-[365px] kaus flex flex-col p-6 rounded-2xl shadow-lg"
>
  <h2 class="text-2xl font-semibold mb-4">Contactame</h2>

  <label class="block mb-2" for="name">Nombre:</label>
  <input
    id="name"
    type="text"
    name="name"
    minlength="1"
    maxlength="30"
    placeholder="Ingresa tu nombre"
    required
    autocomplete="given-name"
    class="w-full px-2 py-1 bg-white text-black rounded-2xl focus:outline-none focus:ring-2 focus:ring-neonBlue"
  />

  <label class="block mt-4 mb-2" for="email">Correo electr√≥nico:</label>
  <input
    id="email"
    type="email"
    name="email"
    minlength="10"
    maxlength="50"
    placeholder="Ingresa tu correo electronico"
    required
    autocomplete="email"
    class="w-full px-2 py-1 bg-white text-black rounded-2xl focus:outline-none focus:ring-2 focus:ring-neonBlue"
  />

  <label class="block mt-4 mb-2" for="message">Mensaje:</label>
  <textarea
    id="message"
    name="message"
    rows="4"
    minlength="4"
    placeholder="Escribe tu mensaje..."
    required
    class="w-full px-2 py-1 bg-white text-black rounded-2xl focus:outline-none focus:ring-2 focus:ring-neonBlue"
  ></textarea>

  <button
    type="submit"
    class="mt-4 mx-auto bg-neonBlue text-black p-2 rounded-md font-bold hover:bg-[#84d6e9] transition"
  >
    Enviar Mensaje
  </button>
</form>
<script is:inline>
  document
    .getElementById("formulario")
    ?.addEventListener("submit", async (event) => {
      const form = Object.fromEntries(new FormData(event.target));
      console.log(form);
      event.preventDefault();
      try {
        const res = await fetch("http://localhost:3000/api/mensaje", {
          method: "POST",
          body: JSON.stringify(form),
          headers: { "Content-Type": "application/json" },
        });
        const respuesta = await res.json();
        console.alert("Respuesta del servidor:", respuesta);
      } catch (error) {
        console.error("Error:", error);
      }
    });
</script>
